<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>北帝灵签抽签（51签）</title>
<style>
  :root { --gold:#d4af37; --gold2:#c19a2e; }

  html, body {
    height: 100%;
    margin: 0;
    background: #ffffff; /* 全白背景 */
    font-family: "Microsoft YaHei", system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans SC", "Noto Sans", sans-serif;
    color:#222;
    overflow: hidden; /* 让舞台始终充满屏幕 */
  }

  /* 舞台占满一屏，高度=100vh */
  .stage {
    position: relative;
    width: 100%;
    height: 100vh;        /* 全屏高 */
    max-height: 100dvh;   /* 移动端安全 */
    background: #ffffff;  /* 纯白底托 */
  }

  .media-box {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #fff;
  }

  .media-box img,
  .media-box video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;    /* 填满舞台 */
    display: block;
  }

  #drawVideo { display: none; }

  /* 居中按钮，覆盖在图上 */
  #drawBtn {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%);
    padding: 14px 32px;
    font-size: 18px;
    background: var(--gold);
    color:#fff;
    border:0;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 8px 24px rgba(0,0,0,.2);
    z-index: 3;
  }
  #drawBtn:hover { background: var(--gold2); }

  /* 结果覆盖层：盖在原位置显示签文 */
  #resultOverlay {
    position: absolute;
    inset: 0;
    display: none;
    z-index: 4;
    /* 半透明暗层，如不需要可注释下一行 */
    background: rgba(255,255,255,0.85);
    /* 让内容居中 */
    display: none;
  }
  #resultCard {
    position: absolute;
    left:50%; top:50%;
    transform: translate(-50%,-50%);
    width: min(720px, 90vw);
    max-height: 80vh;
    overflow: auto;
    background: #fffbe6;
    border: 1px solid #e6d9a8;
    border-radius: 14px;
    padding: 20px 18px;
    box-shadow: 0 10px 28px rgba(0,0,0,.18);
    line-height: 1.7;
    white-space: pre-line;
  }
  #closeBtn{
    margin-top: 14px;
    display: inline-block;
    padding: 10px 18px;
    background: #444;
    color:#fff;
    border:0;
    border-radius: 10px;
    cursor: pointer;
  }
  #closeBtn:hover{ background:#222; }

  /* 可选：小屏优化字体 */
  @media (max-width: 420px){
    #drawBtn{ font-size:16px; padding:12px 24px; }
  }
</style>
</head>
<body>

<div class="stage">
  <div class="media-box">
    <!-- 全屏背景图 -->
    <img id="bgImg" alt="抽签背景"
         src="https://usa185868-stack.github.io/beidi-lingqian/ChatGPT%20Image%202025%E5%B9%B48%E6%9C%8814%E6%97%A5%20%E4%B8%8A%E5%8D%8805_06_12.png" />

    <!-- 点击后播放的全屏视频（与图片同位置同尺寸） -->
    <video id="drawVideo" preload="auto" playsinline webkit-playsinline>
      <source src="https://usa185868-stack.github.io/beidi-lingqian/1000050020.mp4" type="video/mp4" />
      您的浏览器不支持视频播放。
    </video>

    <!-- 中央按钮 -->
    <button id="drawBtn">抽签</button>

    <!-- 结果覆盖层（视频结束后出现） -->
    <div id="resultOverlay">
      <div id="resultCard">
        <div id="resultText"></div>
        <button id="closeBtn">再抽一次</button>
      </div>
    </div>
  </div>
</div>

<script>
/* 1–51签：按你提供的“北帝灵签（标准51签）简明版”，
   其中 26–32 为保持体例的简明补全（其余完全照你原文）。 */
const lots = [
  {num:1, grade:"大吉", poem:"飞龙变化喜逢时，此日升腾果遂期。", meaning:"如龙乘势升天，时机已到，所求必成。"},
  {num:2, grade:"中下", poem:"虎出大林伤人命，须防口舌闹纷争。", meaning:"小心冲动与争端，易惹是非损害。"},
  {num:3, grade:"大吉", poem:"否极泰来终有日，枯木逢春花自新。", meaning:"困境将尽，转入顺境，万事更新。"},
  {num:4, grade:"中下", poem:"劳心费力无所成，且宜守旧待时明。", meaning:"暂时守成，不宜冒进，等待良机。"},
  {num:5, grade:"中吉", poem:"舟行万里风波静，正是安然到岸时。", meaning:"旅途平顺，事情顺利达成。"},
  {num:6, grade:"下", poem:"路险多防迷失处，慎防小人暗害身。", meaning:"环境险恶，要提防小人。"},
  {num:7, grade:"上", poem:"喜遇春风吹又生，枯枝发叶旧根荣。", meaning:"逢机遇而复兴，旧事重获生机。"},
  {num:8, grade:"下", poem:"鸟入牢笼难再出，徒劳心力受困拘。", meaning:"陷于困境难以脱身。"},
  {num:9, grade:"中", poem:"云开月出光明现，渐入佳境喜临门。", meaning:"阴霾散去，前景光明。"},
  {num:10, grade:"下", poem:"明珠失落尘埃里，须待时来始见光。", meaning:"才能被埋没，需待机会重现。"},
  {num:11, grade:"中", poem:"夜雨连绵道路滑，行人须慎免灾危。", meaning:"多加小心，以免灾祸。"},
  {num:12, grade:"上", poem:"宝剑出鞘光彩显，邪魔退避保安宁。", meaning:"正气显现，困难退去。"},
  {num:13, grade:"中吉", poem:"一叶舟轻风顺水，任君来往得安然。", meaning:"顺势而行，无阻无忧。"},
  {num:14, grade:"下", poem:"狂风骤雨须防范，莫向深潭探虎头。", meaning:"不宜冒险，防患于未然。"},
  {num:15, grade:"中", poem:"秋菊盛开香四溢，寒霜来后色犹存。", meaning:"坚韧自持，终获长久之安。"},
  {num:16, grade:"中下", poem:"前途未定多迟疑，莫为虚名损实利。", meaning:"谨慎抉择，不贪虚名。"},
  {num:17, grade:"中吉", poem:"春来草木皆欣欣，君子谋为有好音。", meaning:"春意盎然，事事向好。"},
  {num:18, grade:"下", poem:"烈火焚林殃及物，慎防无妄之灾来。", meaning:"防范突发灾害，莫涉险境。"},
  {num:19, grade:"中", poem:"风送渔舟归故港，浪平潮稳喜重逢。", meaning:"平安归来，喜遇良缘。"},
  {num:20, grade:"下", poem:"宝镜蒙尘光难现，待人拂拭自明辉。", meaning:"才华需人赏识方显。"},
  {num:21, grade:"中吉", poem:"玉兔金乌交替现，阴阳和合兆丰年。", meaning:"阴阳调和，万事顺遂。"},
  {num:22, grade:"中", poem:"行船遇顺风，省力更省心。", meaning:"处境有利，顺势而为。"},
  {num:23, grade:"下", poem:"路逢盗贼须防范，急早回头免受惊。", meaning:"谨防陷阱，及早回避。"},
  {num:24, grade:"中吉", poem:"渔翁得利笑开颜，满载而归乐自然。", meaning:"收获颇丰，心情舒畅。"},
  {num:25, grade:"中", poem:"春种一粒粟，秋收万颗子。", meaning:"努力必有收成。"},
  /* 26–32：按“简明版”风格补齐 */
  {num:26, grade:"中", poem:"晓日出云光渐明，且向平处把舟行。", meaning:"形势转稳，循序推进可成。"},
  {num:27, grade:"下", poem:"夜半孤舟风浪急，暂把桅灯待天晴。", meaning:"局势不稳，宜静不宜动。"},
  {num:28, grade:"中", poem:"云薄日临光可望，缓步徐行终到堂。", meaning:"循序渐进，稳中有得。"},
  {num:29, grade:"中吉", poem:"鸿雁传书音信至，久别重逢喜非常。", meaning:"好消息至，合作有望。"},
  {num:30, grade:"中", poem:"磨砺方成器，韬光以待时。", meaning:"耐心蓄力，终可成事。"},
  {num:31, grade:"中下", poem:"小道荆棘多，迂回免创痍。", meaning:"路径不直，宜绕道避险。"},
  {num:32, grade:"下", poem:"空手探虎口，进退两为难。", meaning:"形势险恶，切莫妄为。"},
  /* 继续你原文 */
  {num:33, grade:"中", poem:"风雨过后见青天，忧愁尽去喜相随。", meaning:"困境解除，喜事将至。"},
  {num:34, grade:"下", poem:"虎穴之中勿轻入，步步为营保自身。", meaning:"危险之地，不可贸然涉足。"},
  {num:35, grade:"中吉", poem:"水清月映波光亮，前程光明福自来。", meaning:"前途顺遂，福运将至。"},
  {num:36, grade:"下", poem:"树遭狂风枝叶落，暂避锋芒保平安。", meaning:"环境恶劣，应暂避风险。"},
  {num:37, grade:"中吉", poem:"云收雨散天光现，好事临门喜气生。", meaning:"坏事过去，好运来临。"},
  {num:38, grade:"中下", poem:"野火烧原无处避，小心防范免受伤。", meaning:"局势危险，要提早防备。"},
  {num:39, grade:"中", poem:"江上风平帆影现，顺水行舟事顺成。", meaning:"顺势而为，易得成功。"},
  {num:40, grade:"下", poem:"行到水穷山尽处，退步原来是向前。", meaning:"困境中退一步反得转机。"},
  {num:41, grade:"中", poem:"人逢喜事精神爽，心宽体健百事兴。", meaning:"喜事相伴，诸事顺心。"},
  {num:42, grade:"上", poem:"高山仰止景无边，努力登攀必到顶。", meaning:"目标虽高，努力必成。"},
  {num:43, grade:"下", poem:"波浪滔天舟易覆，谨慎小心保无虞。", meaning:"风险极高，务必谨慎。"},
  {num:44, grade:"中吉", poem:"春风化雨花开艳，万象更新喜气来。", meaning:"新气象开启，好运临门。"},
  {num:45, grade:"下", poem:"乌云密布雷声急，暂避风头待天晴。", meaning:"局势不稳，宜暂缓行动。"},
  {num:46, grade:"中", poem:"桃李争春花满园，欣欣向荣好时节。", meaning:"一切蓬勃向上，正是发展良机。"},
  {num:47, grade:"下", poem:"灯油将尽光渐暗，需加补充保长明。", meaning:"资源不足，要及时补充。"},
  {num:48, grade:"上", poem:"良田万顷收成好，五谷丰登乐太平。", meaning:"成果丰硕，生活安乐。"},
  {num:49, grade:"中吉", poem:"顺水推舟行得快，前途无阻喜连连。", meaning:"顺势发展，诸事顺利。"},
  {num:50, grade:"下", poem:"烈日当空行路难，宜寻荫处歇脚时。", meaning:"环境艰难，宜暂缓前进。"},
  {num:51, grade:"吉", poem:"君汝求签未诚心，罚你香油二三斤，送经奉油敬佛祖，消灾改厄福来临。", meaning:"需诚心敬神修福，可转凶为吉，福气临门。"}
];

const btn = document.getElementById('drawBtn');
const img = document.getElementById('bgImg');
const video = document.getElementById('drawVideo');
const overlay = document.getElementById('resultOverlay');
const resultText = document.getElementById('resultText');
const closeBtn = document.getElementById('closeBtn');

btn.addEventListener('click', () => {
  // 隐藏图片与按钮，播放视频（保持同一全屏区域）
  btn.style.display = 'none';
  img.style.display = 'none';
  video.style.display = 'block';
  video.currentTime = 0;
  const p = video.play();
  if (p && typeof p.then === 'function') {
    p.catch(()=>{/* 若需用户交互，已点击按钮可播放 */});
  }
});

video.addEventListener('ended', () => {
  video.style.display = 'none';
  // 随机抽签并显示覆盖层
  const lot = lots[Math.floor(Math.random() * lots.length)];
  resultText.textContent =
    `第${lot.num}签（${lot.grade}）\n\n` +
    `签诗：${lot.poem}\n\n` +
    `解签：${lot.meaning}`;
  overlay.style.display = 'block';
});

// 再抽一次：关闭结果 → 还原首屏
closeBtn.addEventListener('click', () => {
  overlay.style.display = 'none';
  img.style.display = 'block';
  btn.style.display = 'inline-block';
});
</script>
</body>
</html>
